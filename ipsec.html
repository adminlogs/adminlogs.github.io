
<h3>IKE Phase 1</h3>
<p style="text-align:justify;">In IKE Phase 1 a tunnel is created used to protect IPSec management traffic. This tunnel is bidirectional. Three steps are needed to create this tunnel.</p>
<h4>Step 1: Negotiate the IKE Phase 1 Tunnel</h4>
<p style="text-align:justify;">The two routers negotiate the Internet Key Exchange (IKEv1) Phase 1 tunnel. This can be done in one of the two modes, <u>Main mode</u> or <u>Aggreessive Mode</u>. Main mode is more secure than the Aggressive Mode, Main mode uses more packets than the Aggressive mode. Most current VPNs use by default the Main mode.</p>
<p style="text-align:justify;">Five basic items (HAGEL) need to be agreed upon between the two VPN gateways for the IKE Phase 1 tunnel to succeed, as follows.</p>
<ul>
  <li>H: Hash algorithm</li>
  <li>A: Authentication method</li>
  <li>G: Diffie-Hellman(DH) group</li>
  <li>E: Encryption algorithm</li>
  <li>L:Lifetime</li>
</ul>
<h4>Step 2: Diffie-Hellman(DH) Exchange</h4>
<p styel="text-align:justify;">Establish shared secret keying material through unsecured network/connection.</p>
<h4>Step 3: Authenticate the peer</h4>
<h3>IKE Phase 2</h3>
<p style="text-align:justify;">After the tunnel of the IKE Phase 1 is established, the gateways immediately begin to establish IKE Phase 2 tunnel using this the IKE Phase 1 tunnel during the negociation. The name of the mode for building IKE Pjase2 tunnel is called <u>Quick mode</u>.</p>
